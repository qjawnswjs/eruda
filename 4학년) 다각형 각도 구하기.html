<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <title>ë‹¤ê°í˜• ê°ë„ êµ¬í•˜ê¸°</title>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Jua', sans-serif;
            background-color: #FFFAF0;
            text-align: center;
            padding: 40px;
        }

        h1 {
            font-size: 50px;
            color: #FF69B4;
            margin-bottom: 20px;
        }

        svg {
            margin-top: 20px;
        }

        .ë³´ê¸°ë“¤ {
            display: grid;
            grid-template-columns: repeat(2, 150px);
            grid-gap: 20px;
            justify-content: center;
            margin: 30px 0;
        }

        .ë³´ê¸°ë²„íŠ¼ {
            font-size: 28px;
            padding: 15px;
            border-radius: 20px;
            border: none;
            background-color: #FFB6C1;
            cursor: pointer;
        }

        .ë³´ê¸°ë²„íŠ¼:hover {
            background-color: #FF8DAA;
        }

        #í”¼ë“œë°± {
            font-size: 26px;
            color: #FF4500;
            margin: 20px;
        }

        #ë‹¤ìŒë¬¸ì œ {
            font-size: 22px;
            padding: 10px 25px;
            border-radius: 20px;
            background-color: #90EE90;
            border: none;
            display: none;
        }

        #ì¹´ìš´íŠ¸ {
            margin-top: 20px;
            font-size: 20px;
        }

        #ë©”ì¸í™”ë©´ìœ¼ë¡œëŒì•„ê°€ê¸° {
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            position: fixed;
            font-size: 24px;
            padding: 15px 30px;
            border-radius: 20px;
            background-color: #ff98fa;
            border: none;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
        }
    </style>
</head>

<body>
    <button id="ë©”ì¸í™”ë©´ìœ¼ë¡œëŒì•„ê°€ê¸°" onclick="location.href='index.html'">ë©”ì¸ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
    <h1 id="íƒ€ì´í‹€">ë‹¤ê°í˜• ê°ë„ êµ¬í•˜ê¸°</h1>
    <svg id="ë„í˜•" width="300" height="260"></svg>
    <div class="ë³´ê¸°ë“¤" id="ë³´ê¸°ë“¤"></div>
    <div id="í”¼ë“œë°±"></div>
    <button id="ë‹¤ìŒë¬¸ì œ" onclick="ë‹¤ìŒë¬¸ì œ()">ë‹¤ìŒ ë¬¸ì œ</button>
    <div id="ì¹´ìš´íŠ¸">ì •ë‹µ: 0 | ì˜¤ë‹µ: 0</div>

    <script>
        let ì •ë‹µìˆ˜ = 0, ì˜¤ë‹µìˆ˜ = 0;
        let ì •ë‹µê°’ = 0;

        function ë¬¸ì œìƒì„±() {
            const ë„í˜• = document.getElementById("ë„í˜•");
            const íƒ€ì´í‹€ = document.getElementById("íƒ€ì´í‹€");
            ë„í˜•.innerHTML = "";
            const í˜•ì‹ = Math.random() < 0.5 ? "ì‚¼ê°í˜•" : "ì‚¬ê°í˜•";

            if (í˜•ì‹ === "ì‚¼ê°í˜•") {
                íƒ€ì´í‹€.textContent = "ğŸ”ºì‚¼ê°í˜• ê°ë„ êµ¬í•˜ê¸°";
                ë„í˜•.innerHTML = `
                    <polygon points="150,20 50,220 250,220" fill="#FFE4E1" stroke="#FF69B4" stroke-width="3" />
                    <text id="ê°A" x="40" y="215" font-size="24">?</text>
                    <text id="ê°B" x="240" y="215" font-size="24">?</text>
                    <text id="ê°C" x="145" y="40" font-size="24">?</text>`;

                const ê°1 = Math.floor(Math.random() * 80) + 20;
                const ê°2 = Math.floor(Math.random() * (160 - ê°1)) + 10;
                const ê°3 = 180 - (ê°1 + ê°2);
                const ê°ë¦¬ìŠ¤íŠ¸ = [ê°1, ê°2, ê°3];
                const ìˆ¨ê¹€ = Math.floor(Math.random() * 3);
                ì •ë‹µê°’ = ê°ë¦¬ìŠ¤íŠ¸[ìˆ¨ê¹€];
                document.getElementById("ê°A").textContent = ìˆ¨ê¹€ === 0 ? "?" : `${ê°1}Â°`;
                document.getElementById("ê°B").textContent = ìˆ¨ê¹€ === 1 ? "?" : `${ê°2}Â°`;
                document.getElementById("ê°C").textContent = ìˆ¨ê¹€ === 2 ? "?" : `${ê°3}Â°`;

            } else {
                íƒ€ì´í‹€.textContent = "ğŸ”¶ì‚¬ê°í˜• ê°ë„ êµ¬í•˜ê¸°";
                ë„í˜•.innerHTML = `
                    <rect x="50" y="50" width="200" height="150" fill="#E0FFFF" stroke="#00CED1" stroke-width="3" />
                    <text id="ê°A" x="40" y="50" font-size="24">?</text>
                    <text id="ê°B" x="260" y="50" font-size="24">?</text>
                    <text id="ê°C" x="40" y="210" font-size="24">?</text>
                    <text id="ê°D" x="260" y="210" font-size="24">?</text>`;

                const ê°1 = Math.floor(Math.random() * 90) + 30;
                const ê°2 = Math.floor(Math.random() * 90) + 30;
                const ê°3 = Math.floor(Math.random() * 90) + 30;
                const ê°4 = 360 - (ê°1 + ê°2 + ê°3);
                const ê°ë¦¬ìŠ¤íŠ¸ = [ê°1, ê°2, ê°3, ê°4];
                const ìˆ¨ê¹€ = Math.floor(Math.random() * 4);
                ì •ë‹µê°’ = ê°ë¦¬ìŠ¤íŠ¸[ìˆ¨ê¹€];
                ["ê°A", "ê°B", "ê°C", "ê°D"].forEach((id, idx) => {
                    document.getElementById(id).textContent = ìˆ¨ê¹€ === idx ? "?" : `${ê°ë¦¬ìŠ¤íŠ¸[idx]}Â°`;
                });
            }

            const ë³´ê¸°ì…‹ = new Set([ì •ë‹µê°’]);
            while (ë³´ê¸°ì…‹.size < 4) {
                const ì˜¤ë‹µ = ì •ë‹µê°’ + Math.floor(Math.random() * 11 - 5);
                if (ì˜¤ë‹µ > 0 && ì˜¤ë‹µ < (í˜•ì‹ === "ì‚¼ê°í˜•" ? 180 : 180)) ë³´ê¸°ì…‹.add(ì˜¤ë‹µ);
            }

            const ë³´ê¸°ë“¤ = Array.from(ë³´ê¸°ì…‹).sort(() => Math.random() - 0.5);
            document.getElementById("ë³´ê¸°ë“¤").innerHTML = ë³´ê¸°ë“¤.map(v =>
                `<button class="ë³´ê¸°ë²„íŠ¼" onclick="ì •ë‹µí™•ì¸(${v})">${v}Â°</button>`
            ).join("");

            document.getElementById("í”¼ë“œë°±").textContent = "";
            document.getElementById("ë‹¤ìŒë¬¸ì œ").style.display = "none";
        }

        function ì •ë‹µí™•ì¸(ì„ íƒê°’) {
            const í”¼ë“œë°± = document.getElementById("í”¼ë“œë°±");
            if (ì„ íƒê°’ === ì •ë‹µê°’) {
                í”¼ë“œë°±.textContent = "ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰";
                ì •ë‹µìˆ˜++;
            } else {
                í”¼ë“œë°±.textContent = `ì˜¤ë‹µì´ì—ìš”! ì •ë‹µì€ ${ì •ë‹µê°’}Â° ì…ë‹ˆë‹¤.`;
                ì˜¤ë‹µìˆ˜++;
            }
            document.getElementById("ì¹´ìš´íŠ¸").textContent = `ì •ë‹µ: ${ì •ë‹µìˆ˜} | ì˜¤ë‹µ: ${ì˜¤ë‹µìˆ˜}`;
            document.getElementById("ë‹¤ìŒë¬¸ì œ").style.display = "inline-block";
            document.querySelectorAll(".ë³´ê¸°ë²„íŠ¼").forEach(btn => btn.disabled = true);
        }

        function ë‹¤ìŒë¬¸ì œ() {
            ë¬¸ì œìƒì„±();
        }

        ë¬¸ì œìƒì„±();
    </script>
</body>

</html>
